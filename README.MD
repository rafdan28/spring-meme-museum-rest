# UNIVERSITA' DEGLI STUDI DI NAPOLI FEDERICO II

# WEB TECHNOLOGIES

## Author

    Raffaele D'Anna N97000455

# Meme Museum â€“ Spring Boot Backend

<p align="center">
  <!-- Logo per tema chiaro -->
  <img src="src/main/resources/static/image/logo.png#gh-light-mode-only" alt="Meme Museum Logo" width="200"/>
  <!-- Logo per tema scuro -->
  <img src="src/main/resources/static/image/logo-dark.png#gh-dark-mode-only" alt="Meme Museum Logo Dark" width="200"/>
</p>

**Meme Museum Backend** Ã¨ il servizio REST che gestisce la piattaforma di condivisione, scoperta e interazione con i meme.  
Sviluppato con [**Spring Boot**](https://spring.io/projects/spring-boot) e documentato tramite [**OpenAPI/Swagger**](https://swagger.io/), fornisce API sicure e performanti integrate con un database [**PostgreSQL**](https://www.postgresql.org/) e storage immagini con [**SeaweedFS**](https://github.com/seaweedfs/seaweedfs).

---

## ğŸš€ FunzionalitÃ  principali

- **Autenticazione e autorizzazione JWT**:
  - Registrazione e login
  - Recupero credenziali con invio email
  - Ruoli utente (`USER`, `ADMIN`) con restrizioni dâ€™accesso
- **Gestione meme**:
  - Upload immagini (SeaweedFS)
  - Votazione (upvote/downvote)
  - Commenti con CRUD e moderazione autore
  - Modifica e cancellazione meme
- **Meme del giorno**:
  - Selezione giornaliera basata su algoritmo di rotazione e punteggio
  - Storico consultabile con paginazione
- **Gestione tag**:
  - Ricerca e filtraggio meme
- **Sicurezza**:
  - Protezione da accessi non autorizzati
  - Validazione input
- **Documentazione interattiva API**:
  - Accessibile su `/swagger-ui.html`

---

## ğŸ› ï¸ Tecnologie utilizzate

- **Backend:** Spring Boot 3, Spring Security, Spring Data JPA, MapStruct
- **Database:** PostgreSQL
- **Storage immagini:** SeaweedFS
- **Documentazione API:** OpenAPI/Swagger
- **Autenticazione:** JWT
- **Containerizzazione:** Docker, Docker Compose
- **Email Service:** JavaMailSender (SMTP / MailTrap per test)
- **Testing API:** Postman, Playwright (E2E in integrazione con frontend)

---

## ğŸ“‚ Struttura del progetto

```plaintext

openapi/
â”œâ”€â”€ meme-api.yaml # Specifiche OpenAPI riguardo l'entitÃ  meme
â”œâ”€â”€ user-api.yaml # Specifiche OpenAPI riguardo l'entitÃ  user

infrastructure/
â”œâ”€â”€ # Infrastruttura conteinerizzata: Database e Storage Immagini

src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/springmememuseumrest/
â”‚   â”‚   â”œâ”€â”€ config/        # Configurazione, JWT e Spring Security
â”‚   â”‚   â”‚   â”œâ”€â”€ exception/        # Eccezioni personalizzate
â”‚   â”‚   â”œâ”€â”€ controller/    # Controller REST
â”‚   â”‚   â”œâ”€â”€ entity/        # Entity JPA
â”‚   â”‚   â”œâ”€â”€ mapper/        # MapStruct mapper
â”‚   â”‚   â”œâ”€â”€ repository/    # Repository JPA
â”‚   â”‚   â”œâ”€â”€ scheduler/     # Schedulatore di scelta meme del giorno
â”‚   â”‚   â”œâ”€â”€ service/       # Servizi applicativi
â”‚   â”œâ”€â”€ resources/
â”‚       â”œâ”€â”€ static/        # File statici (logo, index, css, ecc.)
â”‚       â”œâ”€â”€ application.properties
â””â”€â”€ test/
    â””â”€â”€ java/              # Test unitari e integrazione
```

## âš™ï¸ Installazione e avvio

### 1ï¸âƒ£ Clona il repository

```bash
git clone https://github.com/rafdan28/spring-meme-museum-rest.git
cd spring-meme-museum-rest
```

### 2ï¸âƒ£ Configura il database e lo storage

- Assicurati di avere **Docker** installato.
- Avvia PostgreSQL e SeaweedFS tramite Docker Compose:

```bash
docker compose up -d
```

### 3ï¸âƒ£ Genera le classi dai file OpenAPI

Il progetto utilizza le specifiche openapi/\*.yaml per generare automaticamente le API client/server.

Esegui:

```bash
./mvnw clean generate-sources
```

Questo comando genera le interfacce e i modelli necessari allâ€™interno della directory target/generated-sources.

### 4ï¸âƒ£ Configura le variabili di ambiente (es. SMTP, JWT secret, Postgres, etc.)

- Rinomina **application.properties.dummy** in **application.properties**
- Aggiorna **application.properties**

### 5ï¸âƒ£ Avvia il backend

```bash
./mvnw spring-boot:run
```

## ğŸ§ª Testing

Il backend puÃ² essere testato con:

- **Postman** per test manuali
- **Playwright** (in combinazione con il frontend) per E2E
- **JUnit** e **Mockito** per test unitari

## ğŸ§ª Documentazione API

Dopo aver avviato il backend, puoi verificare il corretto funzionamento accedendo alla pagina di benvenuto:

```bash
http://localhost:8080
```

La documentazione interattiva delle API Ã¨ disponibile allâ€™indirizzo:

```bash
http://localhost:8080/swagger-ui.html
```
